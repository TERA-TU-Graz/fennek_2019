EESchema Schematic File Version 2
LIBS:local_symbols
LIBS:74xgxx
LIBS:74xx
LIBS:ac-dc
LIBS:actel
LIBS:adc-dac
LIBS:allegro
LIBS:Altera
LIBS:analog_devices
LIBS:analog_switches
LIBS:atmel
LIBS:audio
LIBS:battery_management
LIBS:bbd
LIBS:bosch
LIBS:brooktre
LIBS:cmos4000
LIBS:cmos_ieee
LIBS:conn
LIBS:contrib
LIBS:cypress
LIBS:dc-dc
LIBS:device
LIBS:digital-audio
LIBS:diode
LIBS:display
LIBS:dsp
LIBS:elec-unifil
LIBS:ESD_Protection
LIBS:ftdi
LIBS:gennum
LIBS:graphic
LIBS:hc11
LIBS:intel
LIBS:interface
LIBS:ir
LIBS:Lattice
LIBS:leds
LIBS:linear
LIBS:logo
LIBS:maxim
LIBS:mechanical
LIBS:memory
LIBS:microchip
LIBS:microchip_dspic33dsc
LIBS:microchip_pic10mcu
LIBS:microchip_pic12mcu
LIBS:microchip_pic16mcu
LIBS:microchip_pic18mcu
LIBS:microchip_pic24mcu
LIBS:microchip_pic32mcu
LIBS:microcontrollers
LIBS:modules
LIBS:motor_drivers
LIBS:motorola
LIBS:motors
LIBS:msp430
LIBS:nordicsemi
LIBS:nxp
LIBS:nxp_armmcu
LIBS:onsemi
LIBS:opto
LIBS:Oscillators
LIBS:philips
LIBS:power
LIBS:powerint
LIBS:Power_Management
LIBS:pspice
LIBS:references
LIBS:regul
LIBS:relays
LIBS:rfcom
LIBS:sensors
LIBS:silabs
LIBS:siliconi
LIBS:stm8
LIBS:stm32
LIBS:supertex
LIBS:switches
LIBS:texas
LIBS:transf
LIBS:transistors
LIBS:triac_thyristor
LIBS:ttl_ieee
LIBS:valves
LIBS:video
LIBS:wiznet
LIBS:Worldsemi
LIBS:Xicor
LIBS:xilinx
LIBS:zetex
LIBS:Zilog
LIBS:ft232rl
LIBS:relais
LIBS:Supply
LIBS:tera_connectors
LIBS:tera_emc_prodection
LIBS:tera_general
LIBS:tera_logic
LIBS:tera_processors
LIBS:tera_sensoric
LIBS:tera_switches
LIBS:Motor_Control-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 6
Title "Motor Control"
Date "2017-05-19"
Rev "8.1"
Comp "TERA TU Graz"
Comment1 "SEM 2017 final version"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L CONN_01X03 P1
U 1 1 5848B761
P 10550 2800
F 0 "P1" H 10628 2841 50  0000 L CNN
F 1 "CONN_01X03" H 10628 2750 50  0000 L CNN
F 2 "tera_Connectors_Phoenix:PhoenixContact_MSTBA-G_03x5.08mm_Angled" H 10550 2800 50  0001 C CNN
F 3 "" H 10550 2800 50  0000 C CNN
	1    10550 2800
	1    0    0    -1  
$EndComp
Text Label 10150 3200 2    60   ~ 0
current_u_amp
Text Label 10150 3300 2    60   ~ 0
current_v_amp
$Sheet
S 6800 2000 1050 1550
U 58539C2E
F0 "Power Stage" 60
F1 "power_stage.sch" 60
F2 "u_high" I L 6800 2150 60 
F3 "v_high" I L 6800 2600 60 
F4 "w_high" I L 6800 3050 60 
F5 "u_low" I L 6800 2250 60 
F6 "v_low" I L 6800 2700 60 
F7 "w_low" I L 6800 3150 60 
F8 "U" I R 7850 2650 60 
F9 "V" I R 7850 2750 60 
F10 "W" I R 7850 2850 60 
F11 "com" I L 6800 3450 60 
$EndSheet
Text Label 8150 2650 0    60   ~ 0
U
Text Label 8150 2750 0    60   ~ 0
V
Text Label 8150 2850 0    60   ~ 0
W
$Sheet
S 5400 1900 1000 1650
U 58543D84
F0 "bridge driver" 60
F1 "bridge_driver.sch" 60
F2 "HIN_U" I L 5400 2150 60 
F3 "LIN_U" I L 5400 2250 60 
F4 "HIN_V" I L 5400 2400 60 
F5 "LIN_V" I L 5400 2500 60 
F6 "HIN_W" I L 5400 2650 60 
F7 "LIN_W" I L 5400 2750 60 
F8 "~FAULT" I L 5400 3050 60 
F9 "EN" I L 5400 3150 60 
F10 "HOUT_U" I R 6400 2150 60 
F11 "LOUT_U" I R 6400 2250 60 
F12 "HOUT_V" I R 6400 2600 60 
F13 "LOUT_V" I R 6400 2700 60 
F14 "HOUT_W" I R 6400 3050 60 
F15 "LOUT_W" I R 6400 3150 60 
F16 "U" I R 6400 2350 60 
F17 "V" I R 6400 2800 60 
F18 "W" I R 6400 3250 60 
F19 "COM" I R 6400 3450 60 
$EndSheet
Text Label 6600 2350 2    60   ~ 0
U
Text Label 6600 2800 2    60   ~ 0
V
Text Label 6600 3250 2    60   ~ 0
W
Text Label 10150 3500 2    60   ~ 0
voltage_u
Text Label 10150 3600 2    60   ~ 0
voltage_v
Text Label 10150 3700 2    60   ~ 0
voltage_w
$Comp
L GND #PWR01
U 1 1 5856DF31
P 2050 3950
F 0 "#PWR01" H 2050 3700 50  0001 C CNN
F 1 "GND" H 2055 3796 25  0000 C CNN
F 2 "" H 2050 3950 50  0000 C CNN
F 3 "" H 2050 3950 50  0000 C CNN
	1    2050 3950
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR02
U 1 1 5856F02C
P 2100 2750
F 0 "#PWR02" H 2100 2600 50  0001 C CNN
F 1 "+3V3" H 2115 2904 25  0000 C CNN
F 2 "" H 2100 2750 50  0000 C CNN
F 3 "" H 2100 2750 50  0000 C CNN
	1    2100 2750
	1    0    0    -1  
$EndComp
Text Label 2950 2000 0    60   ~ 0
voltage_u
Text Label 2950 2100 0    60   ~ 0
voltage_v
Text Label 2950 2200 0    60   ~ 0
voltage_w
Text Label 2950 1750 0    60   ~ 0
current_u_amp
Text Label 2950 1850 0    60   ~ 0
current_v_amp
Text Label 10150 3950 2    60   ~ 0
LEM_standby
Text Label 2950 2650 0    60   ~ 0
LEM_standby
$Sheet
S 8400 2550 1050 1800
U 5852F1C7
F0 "U/I sense" 60
F1 "current_amp.sch" 60
F2 "current_u_amp" I R 9450 3200 60 
F3 "U_in" I L 8400 2650 60 
F4 "U_out" I R 9450 2650 60 
F5 "W_out" I R 9450 2950 60 
F6 "W_in" I L 8400 2850 60 
F7 "V_in" I L 8400 2750 60 
F8 "V_out" I R 9450 2800 60 
F9 "voltage_w" I R 9450 3700 60 
F10 "voltage_v" I R 9450 3600 60 
F11 "voltage_u" I R 9450 3500 60 
F12 "LEM_standby" I R 9450 3950 60 
F13 "current_v_amp" I R 9450 3300 60 
$EndSheet
$Sheet
S 1750 5300 550  750 
U 58D54AA0
F0 "PowerSupply" 60
F1 "supply.sch" 60
F2 "+BATT" I R 2300 5400 60 
F3 "GND" I R 2300 6000 60 
F4 "+12V" I R 2300 5500 60 
F5 "+3V3" I R 2300 5600 60 
F6 "VDDA" I R 2300 5750 60 
$EndSheet
$Comp
L GND #PWR03
U 1 1 58D6AD11
P 2500 6100
F 0 "#PWR03" H -150 -100 50  0001 C CNN
F 1 "GND" H 2505 5927 50  0000 C CNN
F 2 "" H -150 150 50  0001 C CNN
F 3 "" H -150 150 50  0001 C CNN
	1    2500 6100
	1    0    0    -1  
$EndComp
$Comp
L +BATT #PWR04
U 1 1 58D6AEDF
P 2400 5250
F 0 "#PWR04" H -450 -950 50  0001 C CNN
F 1 "+BATT" H 2415 5423 50  0000 C CNN
F 2 "" H -450 -800 50  0001 C CNN
F 3 "" H -450 -800 50  0001 C CNN
	1    2400 5250
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR05
U 1 1 58D6B0AD
P 2500 5350
F 0 "#PWR05" H -150 50  50  0001 C CNN
F 1 "+12V" H 2515 5523 50  0000 C CNN
F 2 "" H -150 200 50  0001 C CNN
F 3 "" H -150 200 50  0001 C CNN
	1    2500 5350
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR06
U 1 1 58D6B27B
P 2600 5450
F 0 "#PWR06" H -150 100 50  0001 C CNN
F 1 "+3V3" H 2615 5623 50  0000 C CNN
F 2 "" H -150 250 50  0001 C CNN
F 3 "" H -150 250 50  0001 C CNN
	1    2600 5450
	1    0    0    -1  
$EndComp
Text Label 2550 5750 2    60   ~ 0
VDDA
Text Label 2950 2400 0    60   ~ 0
VDDA
Wire Wire Line
	9450 3200 10150 3200
Wire Wire Line
	9450 3300 10150 3300
Wire Wire Line
	7850 2650 8400 2650
Wire Wire Line
	7850 2750 8400 2750
Wire Wire Line
	7850 2850 8400 2850
Wire Wire Line
	6400 3450 6800 3450
Wire Wire Line
	6400 3150 6800 3150
Wire Wire Line
	6400 3050 6800 3050
Wire Wire Line
	6400 2700 6800 2700
Wire Wire Line
	6400 2600 6800 2600
Wire Wire Line
	6400 2250 6800 2250
Wire Wire Line
	6400 2150 6800 2150
Wire Wire Line
	6400 2350 6600 2350
Wire Wire Line
	6400 2800 6600 2800
Wire Wire Line
	6400 3250 6600 3250
Wire Wire Line
	9450 3500 10150 3500
Wire Wire Line
	9450 3600 10150 3600
Wire Wire Line
	9450 3700 10150 3700
Wire Wire Line
	4900 2750 5400 2750
Wire Wire Line
	5400 2650 4900 2650
Wire Wire Line
	4900 2500 5400 2500
Wire Wire Line
	5400 2400 4900 2400
Wire Wire Line
	4900 2250 5400 2250
Wire Wire Line
	4900 2150 5400 2150
Wire Wire Line
	5400 3050 4900 3050
Wire Wire Line
	5400 3150 4900 3150
Wire Wire Line
	2050 3850 1950 3850
Wire Wire Line
	1950 2950 2100 2950
Wire Wire Line
	1950 3750 3650 3750
Wire Wire Line
	1950 3650 3650 3650
Wire Wire Line
	1950 3550 3650 3550
Wire Wire Line
	1950 3450 3650 3450
Wire Wire Line
	2950 1750 3650 1750
Wire Wire Line
	2950 1850 3650 1850
Wire Wire Line
	2950 2000 3650 2000
Wire Wire Line
	2950 2100 3650 2100
Wire Wire Line
	2950 2200 3650 2200
Wire Wire Line
	1950 3350 3650 3350
Wire Wire Line
	1950 3250 3650 3250
Wire Wire Line
	1950 3150 3650 3150
Wire Wire Line
	1950 3050 3650 3050
Wire Wire Line
	9450 3950 10150 3950
Wire Wire Line
	3650 2650 2950 2650
Wire Wire Line
	9900 2950 9450 2950
Wire Wire Line
	9450 2650 10000 2650
Wire Wire Line
	10000 2650 10000 2900
Wire Wire Line
	10000 2900 10350 2900
Wire Wire Line
	2300 5400 2400 5400
Wire Wire Line
	2400 5400 2400 5250
Wire Wire Line
	2300 5500 2500 5500
Wire Wire Line
	2500 5500 2500 5350
Wire Wire Line
	2300 5600 2600 5600
Wire Wire Line
	2600 5600 2600 5450
Wire Wire Line
	2300 6000 2500 6000
Wire Wire Line
	2500 6000 2500 6100
Wire Wire Line
	2300 5750 2550 5750
Wire Wire Line
	3650 2400 2950 2400
Wire Wire Line
	2100 2950 2100 2750
Wire Wire Line
	2050 3850 2050 3950
$Comp
L CONN_01X10 J1
U 1 1 58E51872
P 1750 3400
F 0 "J1" H 1669 2725 50  0000 C CNN
F 1 "CONN_01X10" H 1669 2816 50  0000 C CNN
F 2 "tera_Connectors_Molex:Molex_PicoBlade_53398-1071_10x1.25mm_Straight" H 0   50  50  0001 C CNN
F 3 "" H 0   50  50  0001 C CNN
	1    1750 3400
	-1   0    0    1   
$EndComp
$Sheet
S 3650 1600 1250 2250
U 585543FF
F0 "XMC4x00" 60
F1 "prozessor.sch" 60
F2 "current_u" I L 3650 1750 60 
F3 "voltage_u" I L 3650 2000 60 
F4 "voltage_v" I L 3650 2100 60 
F5 "voltage_w" I L 3650 2200 60 
F6 "u_high" I R 4900 2150 60 
F7 "u_low" I R 4900 2250 60 
F8 "v_high" I R 4900 2400 60 
F9 "v_low" I R 4900 2500 60 
F10 "w_high" I R 4900 2650 60 
F11 "w_low" I R 4900 2750 60 
F12 "rotary_CLK" I L 3650 3550 60 
F13 "rotary_PDIO" I L 3650 3750 60 
F14 "rotary_CSn" I L 3650 3450 60 
F15 "rotary_DI" I L 3650 3650 60 
F16 "~FAULT" I R 4900 3050 60 
F17 "EN" I R 4900 3150 60 
F18 "ENC_B" I L 3650 3050 60 
F19 "ENC_A" I L 3650 3150 60 
F20 "MAGDEC" I L 3650 3250 60 
F21 "MAGINC" I L 3650 3350 60 
F22 "LEM_standby" I L 3650 2650 60 
F23 "VDDA" I L 3650 2400 60 
F24 "current_v" I L 3650 1850 60 
$EndSheet
Wire Wire Line
	9900 2950 9900 2800
Wire Wire Line
	9900 2800 10350 2800
Wire Wire Line
	9450 2800 9750 2800
Wire Wire Line
	9750 2800 9750 2700
Wire Wire Line
	9750 2700 10350 2700
$EndSCHEMATC
