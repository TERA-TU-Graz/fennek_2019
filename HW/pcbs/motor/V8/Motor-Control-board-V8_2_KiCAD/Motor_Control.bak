EESchema Schematic File Version 4
LIBS:Motor_Control-cache
EELAYER 29 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 13
Title "Motor Control"
Date "2017-05-19"
Rev "8.1"
Comp "TERA TU Graz"
Comment1 "SEM 2017 final version"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Connector_Generic:Conn_01x03 P1
U 1 1 5848B761
P 10550 2800
F 0 "P1" H 10628 2841 50  0000 L CNN
F 1 "CONN_01X03" H 10628 2750 50  0000 L CNN
F 2 "tera_Connectors_Phoenix:PhoenixContact_MSTBA-G_03x5.08mm_Angled" H 10550 2800 50  0001 C CNN
F 3 "" H 10550 2800 50  0000 C CNN
	1    10550 2800
	1    0    0    -1  
$EndComp
Text Label 10150 3200 2    60   ~ 0
current_u_amp
Text Label 10150 3300 2    60   ~ 0
current_v_amp
$Sheet
S 5850 1900 1050 1650
U 58539C2E
F0 "Power Stage" 60
F1 "power_stage.sch" 60
F2 "u_high" I L 5850 2150 60 
F3 "v_high" I L 5850 2400 60 
F4 "w_high" I L 5850 2650 60 
F5 "u_low" I L 5850 2250 60 
F6 "v_low" I L 5850 2500 60 
F7 "w_low" I L 5850 2750 60 
F8 "U" O R 6900 2650 60 
F9 "V" O R 6900 2750 60 
F10 "W" O R 6900 2850 60 
F11 "Vbatt" I L 5850 2000 50 
F12 "~FAULT" O L 5850 3050 50 
F13 "EN" I L 5850 3150 50 
$EndSheet
Text Label 8150 2650 0    60   ~ 0
U
Text Label 8150 2750 0    60   ~ 0
V
Text Label 8150 2850 0    60   ~ 0
W
Text Label 10150 3500 2    60   ~ 0
voltage_u
Text Label 10150 3600 2    60   ~ 0
voltage_v
Text Label 10150 3700 2    60   ~ 0
voltage_w
$Comp
L power:GND #PWR01
U 1 1 5856DF31
P 1600 3950
F 0 "#PWR01" H 1600 3700 50  0001 C CNN
F 1 "GND" H 1605 3796 25  0000 C CNN
F 2 "" H 1600 3950 50  0000 C CNN
F 3 "" H 1600 3950 50  0000 C CNN
	1    1600 3950
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR02
U 1 1 5856F02C
P 1600 2750
F 0 "#PWR02" H 1600 2600 50  0001 C CNN
F 1 "+3V3" H 1615 2904 25  0000 C CNN
F 2 "" H 1600 2750 50  0000 C CNN
F 3 "" H 1600 2750 50  0000 C CNN
	1    1600 2750
	1    0    0    -1  
$EndComp
Text Label 2950 2000 0    60   ~ 0
voltage_u
Text Label 2950 2100 0    60   ~ 0
voltage_v
Text Label 2950 2200 0    60   ~ 0
voltage_w
Text Label 2950 1750 0    60   ~ 0
current_u_amp
Text Label 2950 1850 0    60   ~ 0
current_v_amp
Text Label 10150 3950 2    60   ~ 0
LEM_standby
Text Label 2950 2650 0    60   ~ 0
LEM_standby
$Sheet
S 8400 2550 1050 1800
U 5852F1C7
F0 "U/I sense" 60
F1 "current_amp.sch" 60
F2 "current_u_amp" I R 9450 3200 60 
F3 "U_in" I L 8400 2650 60 
F4 "U_out" I R 9450 2650 60 
F5 "W_out" I R 9450 2950 60 
F6 "W_in" I L 8400 2850 60 
F7 "V_in" I L 8400 2750 60 
F8 "V_out" I R 9450 2800 60 
F9 "voltage_w" I R 9450 3700 60 
F10 "voltage_v" I R 9450 3600 60 
F11 "voltage_u" I R 9450 3500 60 
F12 "LEM_standby" I R 9450 3950 60 
F13 "current_v_amp" I R 9450 3300 60 
$EndSheet
$Comp
L power:GND #PWR03
U 1 1 58D6AD11
P 3500 7250
F 0 "#PWR03" H 850 1050 50  0001 C CNN
F 1 "GND" H 3505 7077 50  0000 C CNN
F 2 "" H 850 1300 50  0001 C CNN
F 3 "" H 850 1300 50  0001 C CNN
	1    3500 7250
	1    0    0    -1  
$EndComp
$Comp
L power:+BATT #PWR04
U 1 1 58D6AEDF
P 3400 6400
F 0 "#PWR04" H 550 200 50  0001 C CNN
F 1 "+BATT" V 3400 6650 50  0000 C CNN
F 2 "" H 550 350 50  0001 C CNN
F 3 "" H 550 350 50  0001 C CNN
	1    3400 6400
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR05
U 1 1 58D6B0AD
P 3500 6500
F 0 "#PWR05" H 850 1200 50  0001 C CNN
F 1 "+12V" V 3500 6700 50  0000 C CNN
F 2 "" H 850 1350 50  0001 C CNN
F 3 "" H 850 1350 50  0001 C CNN
	1    3500 6500
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR06
U 1 1 58D6B27B
P 3600 6600
F 0 "#PWR06" H 850 1250 50  0001 C CNN
F 1 "+3V3" V 3600 6800 50  0000 C CNN
F 2 "" H 850 1400 50  0001 C CNN
F 3 "" H 850 1400 50  0001 C CNN
	1    3600 6600
	1    0    0    -1  
$EndComp
Text Label 3550 6900 2    60   ~ 0
VDDA
Text Label 2950 2400 0    60   ~ 0
VDDA
Wire Wire Line
	9450 3200 10150 3200
Wire Wire Line
	9450 3300 10150 3300
Wire Wire Line
	6900 2650 8400 2650
Wire Wire Line
	6900 2750 8400 2750
Wire Wire Line
	6900 2850 8400 2850
Wire Wire Line
	9450 3500 10150 3500
Wire Wire Line
	9450 3600 10150 3600
Wire Wire Line
	9450 3700 10150 3700
Wire Wire Line
	4900 2750 5850 2750
Wire Wire Line
	5850 2650 4900 2650
Wire Wire Line
	4900 2500 5850 2500
Wire Wire Line
	5850 2400 4900 2400
Wire Wire Line
	4900 2250 5850 2250
Wire Wire Line
	4900 2150 5850 2150
Wire Wire Line
	5850 3050 4900 3050
Wire Wire Line
	5850 3150 4900 3150
Wire Wire Line
	1600 3850 1500 3850
Wire Wire Line
	1500 2950 1600 2950
Wire Wire Line
	1500 3750 3650 3750
Wire Wire Line
	1500 3650 3650 3650
Wire Wire Line
	1500 3550 3650 3550
Wire Wire Line
	1500 3450 3650 3450
Wire Wire Line
	2950 1750 3650 1750
Wire Wire Line
	2950 1850 3650 1850
Wire Wire Line
	2950 2000 3650 2000
Wire Wire Line
	2950 2100 3650 2100
Wire Wire Line
	2950 2200 3650 2200
Wire Wire Line
	1500 3350 3650 3350
Wire Wire Line
	1500 3250 3650 3250
Wire Wire Line
	1500 3150 3650 3150
Wire Wire Line
	1500 3050 3650 3050
Wire Wire Line
	9450 3950 10150 3950
Wire Wire Line
	3650 2650 2950 2650
Wire Wire Line
	9900 2950 9450 2950
Wire Wire Line
	9450 2650 10000 2650
Wire Wire Line
	10000 2650 10000 2900
Wire Wire Line
	10000 2900 10350 2900
Wire Wire Line
	2950 6550 3400 6550
Wire Wire Line
	3400 6550 3400 6400
Wire Wire Line
	2950 6650 3500 6650
Wire Wire Line
	3500 6650 3500 6500
Wire Wire Line
	2950 6750 3600 6750
Wire Wire Line
	3600 6750 3600 6600
Wire Wire Line
	2950 7150 3500 7150
Wire Wire Line
	3500 7150 3500 7250
Wire Wire Line
	2950 6900 3550 6900
Wire Wire Line
	3650 2400 2950 2400
Wire Wire Line
	1600 2950 1600 2750
Wire Wire Line
	1600 3850 1600 3950
$Comp
L Connector_Generic:Conn_01x10 J1
U 1 1 58E51872
P 1300 3450
F 0 "J1" H 1300 2850 50  0000 C CNN
F 1 "CONN_01X10" V 1400 3400 50  0000 C CNN
F 2 "tera_Connectors_Molex:Molex_PicoBlade_53398-1071_10x1.25mm_Straight" H -450 100 50  0001 C CNN
F 3 "" H -450 100 50  0001 C CNN
	1    1300 3450
	-1   0    0    1   
$EndComp
$Sheet
S 3650 1600 1250 3850
U 585543FF
F0 "XMC4x00" 60
F1 "prozessor.sch" 60
F2 "current_u" I L 3650 1750 60 
F3 "voltage_u" I L 3650 2000 60 
F4 "voltage_v" I L 3650 2100 60 
F5 "voltage_w" I L 3650 2200 60 
F6 "u_high" O R 4900 2150 60 
F7 "u_low" O R 4900 2250 60 
F8 "v_high" O R 4900 2400 60 
F9 "v_low" O R 4900 2500 60 
F10 "w_high" O R 4900 2650 60 
F11 "w_low" O R 4900 2750 60 
F12 "rotary_CLK" I L 3650 3550 60 
F13 "rotary_PDIO" I L 3650 3750 60 
F14 "rotary_CSn" I L 3650 3450 60 
F15 "rotary_DI" I L 3650 3650 60 
F16 "~FAULT" I R 4900 3050 60 
F17 "EN" O R 4900 3150 60 
F18 "ENC_B" I L 3650 3050 60 
F19 "ENC_A" I L 3650 3150 60 
F20 "MAGDEC" I L 3650 3250 60 
F21 "MAGINC" I L 3650 3350 60 
F22 "LEM_standby" I L 3650 2650 60 
F23 "VDDA" I L 3650 2400 60 
F24 "current_v" I L 3650 1850 60 
F25 "T_accelerator_weak" I L 3650 4400 50 
F26 "T_accelerator_strong" I L 3650 4500 50 
F27 "T_break_front" I L 3650 4650 50 
F28 "T_break_back" I L 3650 4750 50 
F29 "Ext_GPIO_Output1" O L 3650 4900 50 
F30 "Ext_GPIO_Output2" O L 3650 5000 50 
F31 "Ext_AnalogIn1" I L 3650 5150 50 
F32 "Ext_AnalogIn2" I L 3650 5250 50 
$EndSheet
Wire Wire Line
	9900 2950 9900 2800
Wire Wire Line
	9900 2800 10350 2800
Wire Wire Line
	9450 2800 9750 2800
Wire Wire Line
	9750 2800 9750 2700
Wire Wire Line
	9750 2700 10350 2700
Wire Wire Line
	3300 4400 3650 4400
Wire Wire Line
	3300 4500 3650 4500
Wire Wire Line
	3300 4650 3650 4650
Wire Wire Line
	3300 4750 3650 4750
$Comp
L power:GND #PWR0101
U 1 1 5C038F08
P 2250 5450
F 0 "#PWR0101" H 2250 5200 50  0001 C CNN
F 1 "GND" H 2255 5296 25  0000 C CNN
F 2 "" H 2250 5450 50  0000 C CNN
F 3 "" H 2250 5450 50  0000 C CNN
	1    2250 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 5450 2250 5350
Wire Wire Line
	2250 5350 2400 5350
$Comp
L power:+3.3V #PWR0102
U 1 1 5C03B718
P 2200 4100
F 0 "#PWR0102" H 2200 3950 50  0001 C CNN
F 1 "+3V3" V 2200 4250 25  0000 C CNN
F 2 "" H 2200 4100 50  0000 C CNN
F 3 "" H 2200 4100 50  0000 C CNN
	1    2200 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 4100 2200 4150
Wire Wire Line
	2200 4150 2400 4150
$Sheet
S 2400 4050 900  1400
U 5C0085E4
F0 "External GPIO" 50
F1 "ext_gpio.sch" 50
F2 "Accelerator_Weak" O R 3300 4400 50 
F3 "3V3_MCU" I L 2400 4150 50 
F4 "Accelerator_Strong" O R 3300 4500 50 
F5 "GND_MCU" I L 2400 5350 50 
F6 "Break_Front" O R 3300 4650 50 
F7 "Break_Back" O R 3300 4750 50 
F8 "Output1" I R 3300 4900 50 
F9 "12V_MCU" I L 2400 4250 50 
F10 "Output2" I R 3300 5000 50 
F11 "Analog2" O R 3300 5250 50 
F12 "Analog1" O R 3300 5150 50 
$EndSheet
Wire Wire Line
	3650 4900 3300 4900
Wire Wire Line
	3300 5000 3650 5000
Wire Wire Line
	3650 5150 3300 5150
Wire Wire Line
	3300 5250 3650 5250
$Sheet
S 2400 6450 550  750 
U 58D54AA0
F0 "PowerSupply" 60
F1 "supply.sch" 60
F2 "+BATT" I R 2950 6550 60 
F3 "GND" I R 2950 7150 60 
F4 "+12V" I R 2950 6650 60 
F5 "+3V3" I R 2950 6750 60 
F6 "VDDA" I R 2950 6900 60 
$EndSheet
$Comp
L power:+12V #PWR0103
U 1 1 5C030C7E
P 2050 4100
F 0 "#PWR0103" H -600 -1200 50  0001 C CNN
F 1 "+12V" V 2050 4250 25  0000 C CNN
F 2 "" H -600 -1050 50  0001 C CNN
F 3 "" H -600 -1050 50  0001 C CNN
	1    2050 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2050 4100 2050 4250
Wire Wire Line
	2050 4250 2400 4250
$EndSCHEMATC
